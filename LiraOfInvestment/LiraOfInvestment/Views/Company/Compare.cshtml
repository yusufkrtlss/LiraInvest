@model EntityLayer.Dto.CompanyProfile
@{
    ViewData["Title"] = "Compare";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<head>
<link href="~/inspinia-gh-pages/inspinia-gh-pages/css/bootstrap.min.css" rel="stylesheet">
<link href="~/inspinia-gh-pages/inspinia-gh-pages/font-awesome/css/font-awesome.css" rel="stylesheet">

<!-- Toastr style -->
<link href="~/inspinia-gh-pages/inspinia-gh-pages/css/plugins/toastr/toastr.min.css" rel="stylesheet">

<!--     G    ritter -->
<link href="~/inspinia-gh-pages/js/plugins/gritter/jquery.gritter.css" rel="stylesheet">

<link href="~/inspinia-gh-pages/inspinia-gh-pages/css/animate.css" rel="stylesheet">
<link href="~/inspinia-gh-pages/inspinia-gh-pages/css/style.css" rel="stylesheet">
<!--     Morris -->
<link href="~/inspinia-gh-pages/inspinia-gh-pages/css/plugins/morris/morris-0.4.3.min.css" rel="stylesheet">
</head>
<form asp-controller="Company" asp-action="Compare">
<div class="form-group">
    <label asp-for="Id" class="control-label">Company</label>
    <select id="profile_select" asp-for="Id" class="form-control" asp-items="Model.profiles">
    </select>
    <span asp-validation-for="Id" class="text-danger"></span>
</div>
<div>
    <button type="submit" class="btn btn-warning">Compare!</button>
</div>
</form>

<div id="fruit-details"></div>
<div id="CompareCompanyContainer"></div>
@*<div class="form-group">
    <label asp-for="Id" class="control-label">Company</label>
    <select asp-for="Id" class="form-control" asp-items="ViewBag.Companies">
    </select>
    <span asp-validation-for="Id" class="text-danger"></span>
</div>*@

@*<div class="row">
<div class="col-md-6">

    <h2 class="font-bold m-b-xs">
        Desktop publishing software
    </h2>
    <small>Many desktop publishing packages and web page editors now.</small>
    <div class="m-t-md">
        <h2 class="product-main-price">$406,602 <small class="text-muted">Exclude Tax</small> </h2>
    </div>
    <hr>

    <h4>Product description</h4>

    <div class="small text-muted">
        It is a long established fact that a reader will be distracted by the readable
        content of a page when looking at its layout. The point of using Lorem Ipsum is

        <br />
        <br />
        There are many variations of passages of Lorem Ipsum available, but the majority
        have suffered alteration in some form, by injected humour, or randomised words
        which don't look even slightly believable.
    </div>
    <dl class="small m-t-md">
        <dt>Description lists</dt>
        <dd>A description list is perfect for defining terms.</dd>
        <dt>Euismod</dt>
        <dd>Vestibulum id ligula porta felis euismod semper eget lacinia odio sem nec elit.</dd>
        <dd>Donec id elit non mi porta gravida at eget metus.</dd>
        <dt>Malesuada porta</dt>
        <dd>Etiam porta sem malesuada magna mollis euismod.</dd>
    </dl>
    <hr>

    <div>
        <div class="btn-group">
            <button class="btn btn-primary btn-sm"><i class="fa fa-cart-plus"></i> Add to cart</button>
            <button class="btn btn-white btn-sm"><i class="fa fa-star"></i> Add to wishlist </button>
            <button class="btn btn-white btn-sm"><i class="fa fa-envelope"></i> Contact with author </button>
        </div>
    </div>



</div>
    <div class="col-md-6">

        @await Component.InvokeAsync("CompareCompany")



    </div>
</div>*@

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"
        integrity="sha512-UXumZrZNiOwnTcZSHLOfcTs0aos2MzBWHXOHOuB0J/R44QB0dwY5JgfbvljXcklVf65Gc4El6RjZ+lnwd2az2g=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer">
</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.0/dist/chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/2.0.0/chartjs-plugin-zoom.min.js"
        integrity="sha512-B6F98QATBNaDHSE7uANGo5h0mU6fhKCUD+SPAY7KZDxE8QgZw9rewDtNiu3mbbutYDWOKT3SPYD8qDBpG2QnEg=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer">
</script>






<!-- Mainly scripts -->
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/jquery-3.1.1.min.js"></script>
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/popper.min.js"></script>
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/bootstrap.js"></script>
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<!-- Flot -->
<!-- Custom and plugin javascript -->
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/inspinia.js"></script>
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/plugins/pace/pace.min.js"></script>


<!-- jQuery UI -->
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/plugins/jquery-ui/jquery-ui.min.js"></script>

<!-- Jvectormap -->
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- Peity -->
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/plugins/peity/jquery.peity.min.js"></script>
<script src="~/inspinia-gh-pages/inspinia-gh-pages/js/demo/peity-demo.js"></script>

<script>
    //$(function () {
    //    $("#profile_select").change(function () {
    //        var selectedId = $(this).val();
    //        $.get("/Company/Compare/" + selectedId, function (data) {
    //            $("#fruit-details").html(data);
    //        });
    //    });
    //});

    $(document).ready(function () {
        $('#profile_select').change(function () {
            var selectedItemId = $(this).val(); // get the selected item value (which is the ID)

            // send the ID to a .NET Core view component using AJAX
            $.ajax({
                type: 'GET',
                url: '/CompareCompany?id=' + selectedItemId,
                success: function (response) {
                    // update the view with the response HTML
                    $('#CompareCompanyContainer').html(response);
                },
                error: function () {
                    // handle error
                }
            });
        });
    });
</script>
